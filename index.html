<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Coposition API Reference</title>
    <!-- favicon stuff -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700|Muli:300|Material+Icons" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Fira+Sans:400,300|Roboto+Condensed:400,300|Fira+Mono|Material+Icons" rel="stylesheet" type="text/css">
    <link rel="apple-touch-icon" sizes="180x180" href="./images/apple-touch-icon.png">
    <link rel="icon" type="image/png" href="./images/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="./images/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="./images/manifest.json">
    <link rel="mask-icon" href="./images/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="theme-color" content="#ffffff">
    <!-- end favicon stuff -->
    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #f8f8f2;
  background-color: #272822;
}
.highlight .err {
  color: #151515;
  background-color: #ac4142;
}
.highlight .c, .highlight .cd, .highlight .cm, .highlight .c1, .highlight .cs {
  color: #505050;
}
.highlight .cp {
  color: #f4bf75;
}
.highlight .nt {
  color: #f4bf75;
}
.highlight .o, .highlight .ow {
  color: #d0d0d0;
}
.highlight .p, .highlight .pi {
  color: #d0d0d0;
}
.highlight .gi {
  color: #90a959;
}
.highlight .gd {
  color: #ac4142;
}
.highlight .gh {
  color: #6a9fb5;
  background-color: #151515;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #aa759f;
}
.highlight .kc {
  color: #d28445;
}
.highlight .kt {
  color: #d28445;
}
.highlight .kd {
  color: #d28445;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #90a959;
}
.highlight .sr {
  color: #75b5aa;
}
.highlight .si {
  color: #8f5536;
}
.highlight .se {
  color: #8f5536;
}
.highlight .nn {
  color: #f4bf75;
}
.highlight .nc {
  color: #f4bf75;
}
.highlight .no {
  color: #f4bf75;
}
.highlight .na {
  color: #6a9fb5;
}
.highlight .m, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mb, .highlight .mx {
  color: #90a959;
}
.highlight .ss {
  color: #90a959;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;shell&quot;,&quot;javascript&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <a href="https://coposition.com"><img src="images/logo.png" /></a>
        <div class="lang-selector">
              <a href="#" data-language-name="shell">cURL</a>
              <a href="#" data-language-name="javascript">node.js</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='https://www.coposition.com/developers/sign_up'>Sign Up for a Developer Key</a></li>
            <li>~or~</li>
            <li><a href="https://coposition.com/developers/console">Log In to your Developer Console</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="introduction">Introduction</h1>

<p>Welcome to Coposition! You can use our API to securely store and retrieve geolocation info associated with devices and users. You can also use the api
to view and manage permissions.</p>

<p>You can view code examples in the dark area to the right, and you can switch the programming language of the examples with the tabs in the top right.</p>

<h1 id="authentication">Authentication</h1>

<blockquote>
<p>To authorize, use this code:</p>
</blockquote>
<pre class="highlight javascript"><code><span class="c1">// For brevity, the node code samples use</span>
<span class="c1">// the Request module (https://www.npmjs.com/package/request)</span>
<span class="c1">// But feel free to use whatever method you prefer</span>
<span class="c1">// to make http requests</span>

<span class="kd">var</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"request"</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="s1">'HTTP_VERB_HERE'</span><span class="p">,</span>
  <span class="na">url</span><span class="p">:</span> <span class="s1">'API_ENDPOINT_HERE'</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span>
   <span class="p">{</span> <span class="s1">'cache-control'</span><span class="p">:</span> <span class="s1">'no-cache'</span><span class="p">,</span>
     <span class="s1">'x-api-key'</span><span class="p">:</span> <span class="s1">'YOUR_API_KEY_HERE'</span> <span class="p">}</span> <span class="p">};</span>

<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>

</code></pre>
<pre class="highlight shell"><code><span class="c"># With cURL, you can just pass the correct header with each request</span>
curl <span class="s2">"API_ENDPOINT_HERE"</span>
  -H <span class="s2">"X-Api-Key: YOUR_API_KEY_HERE"</span>
</code></pre>

<blockquote>
<p>Make sure to replace <code class="prettyprint">YOUR_API_KEY_HERE</code> with your API key.</p>
</blockquote>

<p>Coposition uses custom HTTP headers to control access to different parts of the API. All API requests are expected to have an API key header:</p>

<p><code class="prettyprint">X-Api-Key: YOUR_API_KEY_HERE</code></p>

<p>You can get a new Coposition API key from your <a href="https://coposition.com/developers/console">developer console</a>.</p>

<aside class="notice">
You must replace <code>YOUR_API_KEY_HERE</code> with your personal API key.
</aside>

<p>Other custom headers used by the API are shown below. We&rsquo;ll revisit them when they&rsquo;re required.</p>

<table><thead>
<tr>
<th>Header</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>X-UUID</td>
<td>Unique identifier associated with a specific device in our database.</td>
</tr>
</tbody></table>

<h1 id="oauth">Oauth</h1>

<blockquote>
<p>You will need your Oauth secret key, UID and redirect uri from your developer console</p>
</blockquote>
<pre class="highlight shell"><code>Link user to 
<span class="s1">'https://coposition.com/oauth/authorize?response_type=code&amp;client_id=UID&amp;redirect_uri=REDIRECT_URI'</span>

Once user has completed authorisation they will be redirected to 
<span class="s1">'YOUR_REDIRECT_URI?code=ACCESS_GRANT'</span>

curl -X POST <span class="s2">"https://coposition.com/oauth/token"</span>
     -H <span class="s2">"Content-Type: application/json"</span>
     -d <span class="s1">'{
      "client_id" : OAUTH_UID,
      "client_secret" : OAUTH_SECRET,
      "code" : ACCESS_GRANT
      "grant_type" : "authorization_code",
      "redirect_uri" : "YOUR_REDIRECT_URI?code=ACCESS_GRANT"
     }'</span>
</code></pre>
<pre class="highlight javascript"><code><span class="nx">Link</span> <span class="nx">user</span> <span class="nx">to</span> 
<span class="s1">'https://coposition.com/oauth/authorize?response_type=code&amp;client_id=UID&amp;redirect_uri=REDIRECT_URI'</span>

<span class="nx">Once</span> <span class="nx">user</span> <span class="nx">has</span> <span class="nx">completed</span> <span class="nx">authorisation</span> <span class="nx">they</span> <span class="nx">will</span> <span class="nx">be</span> <span class="nx">redirected</span> <span class="nx">to</span> 
<span class="s1">'YOUR_REDIRECT_URI?code=ACCESS_GRANT'</span>

<span class="kd">var</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"request"</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="s1">'POST'</span><span class="p">,</span>
  <span class="na">url</span><span class="p">:</span> <span class="s1">'https://coposition.com/oauth/token'</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span> <span class="s1">'Content-Type'</span><span class="p">:</span> <span class="s1">'application/json'</span> <span class="p">},</span>
  <span class="na">body</span><span class="p">:</span> <span class="p">{</span> 
    <span class="na">client_id</span><span class="p">:</span> <span class="nx">OAUTH_UID</span><span class="p">,</span>
    <span class="na">client_secret</span><span class="p">:</span> <span class="nx">OAUTH_SECRET</span><span class="p">,</span>
    <span class="na">code</span> <span class="p">:</span> <span class="nx">ACCESS_GRANT</span>
    <span class="na">grant_type</span><span class="p">:</span> <span class="s1">'authorization_code'</span><span class="p">,</span>
    <span class="na">redirect_uri</span><span class="p">:</span> <span class="s1">'YOUR_REDIRECT_URI?code=ACCESS_GRANT'</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this.</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"access_token"</span><span class="p">:</span><span class="w"> </span><span class="err">ACCESS_TOKEN</span><span class="p">,</span><span class="w">
  </span><span class="nt">"user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tom@email.com"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tom"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tom"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>In order to access a user&rsquo;s data, the user will need to have authorized your application to access their data via oAuth.</p>

<p>You can add oAuth to your app using our <a href="https://github.com/earlymarket/omniauth-coposition-oauth2">ruby gem</a>. Instructions for authorizing a user via javascript or curl are included to the right.</p>

<p>You will need to provide both your API key and an access token associated with the user who&rsquo;s data you are trying to access when using the API. The access token can be included by appending the following query parameter:</p>

<p><code>?access_token=ACCESS_TOKEN</code></p>

<h1 id="uuid">UUID</h1>

<p>All hardware is identified by a <strong>universally unique identifier</strong> (UUID). This is because not all devices share the same identifying marks e.g. serial numbers, IMEI so we create an
artificial one to standardize on.</p>

<h2 id="create-a-new-uuid">Create a new UUID</h2>

<p>UUID&rsquo;s can be pre-generated to allow you to uniquely identify a device after manufacture. When you request a UUID, a device config will also be created allowing you the developer to control any additional device settings you may want to configure.</p>

<blockquote>
<p>At the moment: 1 request = 1 UUID.</p>
</blockquote>
<pre class="highlight shell"><code>curl -X GET <span class="s2">"https://api.coposition.com/uuid"</span>
  -H <span class="s2">"X-Api-Key: YOUR_API_KEY_HERE"</span>
</code></pre>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"request"</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span> <span class="na">method</span><span class="p">:</span> <span class="s1">'GET'</span><span class="p">,</span>
  <span class="na">url</span><span class="p">:</span> <span class="s1">'https://api.coposition.com/uuid'</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span>
   <span class="p">{</span> <span class="s1">'cache-control'</span><span class="p">:</span> <span class="s1">'no-cache'</span><span class="p">,</span>
     <span class="s1">'x-api-key'</span><span class="p">:</span> <span class="s1">'YOUR_API_KEY_HERE'</span> <span class="p">}</span> <span class="p">};</span>

<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"uuid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7d274e7c-76ab-45e7-8d96-ef063ad725f8"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://api.coposition.com/uuid</code></p>

<aside class="success">
Remember your API key!
</aside>

          <h1 id="users">Users</h1>

<h2 id="getting-app-users">Getting app users</h2>

<p>Allows you to view a list of users who have approved your app/developer and obtain user ID&rsquo;s which can be used in creating/updating an approval or updating permissions for a device.</p>
<pre class="highlight shell"><code>curl -X GET <span class="s2">"https://api.coposition.com/users"</span>
  -H <span class="s2">"X-Api-Key: YOUR_API_KEY_HERE"</span>
  -H <span class="s2">"Content-Type: application/json"</span>
  -H <span class="s2">"Cache-Control: no-cache"</span>
</code></pre>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"request"</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span> <span class="na">method</span><span class="p">:</span> <span class="s1">'GET'</span><span class="p">,</span>
  <span class="na">url</span><span class="p">:</span> <span class="s1">'https://api.coposition.com/users'</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span>
   <span class="p">{</span> <span class="s1">'cache-control'</span><span class="p">:</span> <span class="s1">'no-cache'</span><span class="p">,</span>
     <span class="s1">'content-type'</span><span class="p">:</span> <span class="s1">'application/json'</span><span class="p">,</span>
     <span class="s1">'X-Api-Key'</span><span class="p">:</span> <span class="s1">'YOUR_API_KEY_HERE'</span><span class="p">},</span>
  <span class="na">json</span><span class="p">:</span> <span class="kc">true</span> <span class="p">};</span>

<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>

</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tom@email.com"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tom"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tom"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sam@email.com"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sam"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sam"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://api.coposition.com/users</code></p>

<h3 id="headers">Headers</h3>

<p><code class="prettyprint">X-Api-Key</code>
<code class="prettyprint">Content-Type</code>
<code class="prettyprint">Cache-Control</code></p>

<h2 id="showing-user-info">Showing user info</h2>

<p>Allows you to view user info such as username and email.</p>
<pre class="highlight shell"><code>curl -X GET <span class="s2">"https://api.coposition.com/users/USER_ID"</span>
  -H <span class="s2">"X-Api-Key: YOUR_API_KEY_HERE"</span>
  -H <span class="s2">"Content-Type: application/json"</span>
  -H <span class="s2">"Cache-Control: no-cache"</span>
</code></pre>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"request"</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span> <span class="na">method</span><span class="p">:</span> <span class="s1">'GET'</span><span class="p">,</span>
  <span class="na">url</span><span class="p">:</span> <span class="s1">'https://api.coposition.com/users/USER_ID'</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span>
   <span class="p">{</span> <span class="s1">'cache-control'</span><span class="p">:</span> <span class="s1">'no-cache'</span><span class="p">,</span>
     <span class="s1">'content-type'</span><span class="p">:</span> <span class="s1">'application/json'</span><span class="p">,</span>
     <span class="s1">'X-Api-Key'</span><span class="p">:</span> <span class="s1">'YOUR_API_KEY_HERE'</span> <span class="p">},</span>
  <span class="na">json</span><span class="p">:</span> <span class="kc">true</span> <span class="p">};</span>

<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>

</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"delia.kirlin@ortiz.biz"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"coporulez"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"coporulez"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://api.coposition.com/users/USER_ID</code></p>

<h3 id="headers">Headers</h3>

<p><code class="prettyprint">X-Api-Key</code>
<code class="prettyprint">Content-Type</code>
<code class="prettyprint">Cache-Control</code></p>

          <h1 id="approvals">Approvals</h1>

<h2 id="asking-for-approval">Asking for approval</h2>

<p>Use this endpoint to create a pending approval between an App/User and the current User.</p>
<pre class="highlight shell"><code>curl -X POST <span class="s2">"https://api.coposition.com/users/USER_ID/approvals/"</span>
  -H <span class="s2">"X-Api-Key: YOUR_API_KEY_HERE"</span>
  -H <span class="s2">"Content-Type: application/json"</span>
  -H <span class="s2">"Cache-Control: no-cache"</span>
  -d <span class="s1">'{
    "approval" : {
      "approvable": DEVELOPER_ID,
      "approvable_type": "Developer"
      }
    }'</span>
</code></pre>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"request"</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span> <span class="na">method</span><span class="p">:</span> <span class="s1">'POST'</span><span class="p">,</span>
  <span class="na">url</span><span class="p">:</span> <span class="s1">'https://api.coposition.com/users/USER_ID/approvals/'</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span>
   <span class="p">{</span> <span class="s1">'cache-control'</span><span class="p">:</span> <span class="s1">'no-cache'</span><span class="p">,</span>
     <span class="s1">'content-type'</span><span class="p">:</span> <span class="s1">'application/json'</span><span class="p">,</span>
     <span class="s1">'X-Api-Key'</span><span class="p">:</span> <span class="s1">'YOUR_API_KEY_HERE'</span><span class="p">},</span>
  <span class="na">body</span><span class="p">:</span> <span class="p">{</span> <span class="na">approval</span><span class="p">:</span> <span class="p">{</span> <span class="na">approvable</span><span class="p">:</span> <span class="nx">DEVELOPER_ID</span><span class="p">,</span> <span class="na">approvable_type</span><span class="p">:</span> <span class="s1">'Developer'</span> <span class="p">}</span> <span class="p">},</span>
  <span class="na">json</span><span class="p">:</span> <span class="kc">true</span> <span class="p">};</span>

<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>

</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">103</span><span class="p">,</span><span class="w">
  </span><span class="nt">"approvable_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="nt">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="nt">"approval_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-05-17T09:34:24.118Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-04-19T09:44:55.319Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-05-17T09:34:24.120Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"accepted"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"approvable_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Developer"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://api.coposition.com/users/USER_ID/approvals/</code></p>

<h3 id="headers">Headers</h3>

<p><code class="prettyprint">X-Api-Key</code>
<code class="prettyprint">Content-Type</code>
<code class="prettyprint">Cache-Control</code></p>

<h3 id="body">Body</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>approval</td>
<td>approvable, approvable_type</td>
</tr>
<tr>
<td>approvable</td>
<td>integer (id of user/developer)</td>
</tr>
<tr>
<td>approvable_type</td>
<td>&lsquo;User&rsquo; or &#39;Developer&rsquo;</td>
</tr>
</tbody></table>

          <h1 id="check-ins">Check-ins</h1>

<p>A check-in is our basic unit of geolocation information. It has a latitude, longitude and the UUID of the device it belongs to. It can also contain an address and privacy information.</p>

<h2 id="check-in-privacy">Check-in privacy</h2>

<p>Coposition allows you to pass a less specific location on to your friends and apps. We call this &ldquo;fogging&rdquo;. A check-in&rsquo;s fogged location is either the centre of the nearest named urban area with a population of more than 1000 people (usually a city district, borough, town, village or suburb). If there isn&rsquo;t one within 200 miles, it is assigned a random location &plusmn;0.5 decimal degrees of latitude/longitude. This information is saved to the check-in so you can consistently report the same location.</p>

<p>You may also delay sharing a check-in to a less sensitive time by changing the delay property on the parent device.</p>

<h2 id="create-a-new-check-in">Create a new check-in</h2>

<p>A latitude and longitude are required. You can also provide a created at date and time in the format &ldquo;yyyy-mm-dd [hh:mm:ss]&rdquo;. If the API key belongs to the developer who originally created the device, the device config will also be returned.</p>
<pre class="highlight shell"><code>curl -X POST <span class="s2">"https://api.coposition.com/checkins"</span>
     -H <span class="s2">"X-Api-Key: YOUR_API_KEY_HERE"</span>
     -H <span class="s2">"Content-Type: application/json"</span>
     -H <span class="s2">"X-UUID: DEVICE-UUID-HERE"</span>
     -H <span class="s2">"Cache-Control: no-cache"</span>
     -d <span class="s1">'{
      "lat" : "51.588330",
      "lng" : "-0.513069",
      "created_at" : "2016-10-31 [10:30:12]"
     }'</span>
</code></pre>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"request"</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span> <span class="na">method</span><span class="p">:</span> <span class="s1">'POST'</span><span class="p">,</span>
  <span class="na">url</span><span class="p">:</span> <span class="s1">'https://api.coposition.com/checkins'</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span>
   <span class="p">{</span> <span class="s1">'cache-control'</span><span class="p">:</span> <span class="s1">'no-cache'</span><span class="p">,</span>
     <span class="s1">'content-type'</span><span class="p">:</span> <span class="s1">'application/json'</span><span class="p">,</span>
     <span class="s1">'X-UUID'</span><span class="p">:</span> <span class="s1">'DEVICE-UUID-HERE'</span>
     <span class="s1">'x-api-key'</span><span class="p">:</span> <span class="s1">'YOUR_API_KEY_HERE'</span> <span class="p">},</span>
  <span class="na">body</span><span class="p">:</span> <span class="p">{</span> <span class="na">lat</span><span class="p">:</span> <span class="s1">'51.588330'</span><span class="p">,</span> <span class="na">lng</span><span class="p">:</span> <span class="s1">'-0.513069'</span><span class="p">,</span> <span class="na">created_at</span> <span class="p">:</span> <span class="s1">'2017-02-01 [11:01:38]'</span> <span class="p">},</span>
  <span class="na">json</span><span class="p">:</span> <span class="kc">true</span> <span class="p">};</span>

<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>

</code></pre>

<blockquote>
<p>The above command returns JSON structured like this.
Config will only be returned if checkin is created with the api key of the developer who created the device.</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"lat"</span><span class="p">:</span><span class="w"> </span><span class="mf">51.58833</span><span class="p">,</span><span class="w">
      </span><span class="nt">"lng"</span><span class="p">:</span><span class="w"> </span><span class="mf">-0.513069</span><span class="p">,</span><span class="w">
      </span><span class="nt">"device_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">309</span><span class="p">,</span><span class="w">
      </span><span class="nt">"fogged"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">287282</span><span class="p">,</span><span class="w">
      </span><span class="nt">"uuid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cb732efc-b34f-427a-b80c-c39d4ff4a8f7"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"fogged_lat"</span><span class="p">:</span><span class="w"> </span><span class="mf">51.60333</span><span class="p">,</span><span class="w">
      </span><span class="nt">"fogged_lng"</span><span class="p">:</span><span class="w"> </span><span class="mf">-0.48546</span><span class="p">,</span><span class="w">
      </span><span class="nt">"fogged_city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Harefield"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"country_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GB"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"fogged_country_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GB"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-01T11:01:38.000Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-01T11:04:02.661Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Not yet geocoded"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"city"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"postal_code"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"output_lat"</span><span class="p">:</span><span class="w"> </span><span class="mf">51.58833</span><span class="p">,</span><span class="w">
      </span><span class="nt">"output_lng"</span><span class="p">:</span><span class="w"> </span><span class="mf">-0.513069</span><span class="p">,</span><span class="w">
      </span><span class="nt">"output_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Not yet geocoded"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"output_city"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"output_postal_code"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"output_country_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GB"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"edited"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"config"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">23</span><span class="p">,</span><span class="w">
    </span><span class="nt">"developer_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nt">"device_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">309</span><span class="p">,</span><span class="w">
    </span><span class="nt">"custom"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-08T07:59:17.005Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-13T09:27:52.338Z"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://api.coposition.com/checkins</code></p>

<h3 id="headers">Headers</h3>

<p><code class="prettyprint">X-Api-key</code>
<code class="prettyprint">X-UUID</code>
<code class="prettyprint">Content-Type</code></p>

<h3 id="body">Body</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>lat</td>
<td>-180/+180</td>
</tr>
<tr>
<td>lng</td>
<td>-180/+180</td>
</tr>
<tr>
<td>created_at <em>(optional)</em></td>
<td>A valid <a href="http://ruby-doc.org/stdlib-2.3.0/libdoc/date/rdoc/DateTime.html#method-c-parse">Ruby datetime</a> value e.g. &ldquo;yyyy-mm-dd [hh:mm:ss]&rdquo;</td>
</tr>
</tbody></table>

<h2 id="create-a-batch-of-new-check-ins">Create a batch of new check-ins</h2>

<p>Again, the latitude and longitude of each check-in is required and you can also supply a created at date and time.</p>
<pre class="highlight shell"><code>curl -X POST <span class="s2">"https://api.coposition.com/checkins/batch_create"</span>
     -H <span class="s2">"X-Api-Key: YOUR_API_KEY_HERE"</span>
     -H <span class="s2">"Content-Type: application/json"</span>
     -H <span class="s2">"X-UUID: DEVICE-UUID-HERE"</span>
     -H <span class="s2">"Cache-Control: no-cache"</span>
     -d <span class="s1">'[
       {
         "lat" : "51.588330",
         "lng" : "-0.513069",
         "created_at" : "2016-10-31 [10:30:12]"
       },
       {
         "lat" : "52.345334",
         "lng" : "-0.563423",
         "created_at" : "2016-10-31 [11:05:54]"
       }]'</span>
</code></pre>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"request"</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span> <span class="na">method</span><span class="p">:</span> <span class="s1">'POST'</span><span class="p">,</span>
  <span class="na">url</span><span class="p">:</span> <span class="s1">'https://api.coposition.com/checkins/batch_create'</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span>
   <span class="p">{</span> <span class="s1">'cache-control'</span><span class="p">:</span> <span class="s1">'no-cache'</span><span class="p">,</span>
     <span class="s1">'content-type'</span><span class="p">:</span> <span class="s1">'application/json'</span><span class="p">,</span>
     <span class="s1">'X-UUID'</span><span class="p">:</span> <span class="s1">'DEVICE-UUID-HERE'</span>
     <span class="s1">'x-api-key'</span><span class="p">:</span> <span class="s1">'YOUR_API_KEY_HERE'</span> <span class="p">},</span>
  <span class="na">body</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span> <span class="na">lat</span><span class="p">:</span> <span class="s1">'51.588330'</span><span class="p">,</span> <span class="na">lng</span><span class="p">:</span> <span class="s1">'-0.513069'</span><span class="p">,</span> <span class="na">created_at</span> <span class="p">:</span> <span class="s1">'2017-02-01 [11:01:38]'</span> <span class="p">},</span>
    <span class="p">{</span> <span class="na">lat</span><span class="p">:</span> <span class="s1">'52.345334'</span><span class="p">,</span> <span class="na">lng</span><span class="p">:</span> <span class="s1">'-0.563423'</span><span class="p">,</span> <span class="na">created_at</span><span class="p">:</span> <span class="s1">'2016-10-31 [11:05:54]'</span> <span class="p">}</span>
  <span class="p">],</span>
  <span class="na">json</span><span class="p">:</span> <span class="kc">true</span> <span class="p">};</span>

<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>

</code></pre>

<blockquote>
<p>The above command returns JSON structured like this.</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Checkins created"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://api.coposition.com/checkins/batch_create</code></p>

<h3 id="headers">Headers</h3>

<p><code class="prettyprint">X-Api-key</code>
<code class="prettyprint">X-UUID</code>
<code class="prettyprint">Content-Type</code></p>

<h3 id="body">Body</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>lat</td>
<td>-180/+180</td>
</tr>
<tr>
<td>lng</td>
<td>-180/+180</td>
</tr>
<tr>
<td>created_at <em>(optional)</em></td>
<td>A valid <a href="http://ruby-doc.org/stdlib-2.3.0/libdoc/date/rdoc/DateTime.html#method-c-parse">Ruby datetime</a> value e.g. &ldquo;yyyy-mm-dd [hh:mm:ss]&rdquo;</td>
</tr>
</tbody></table>

<h2 id="get-a-list-of-user-checkins">Get a list of user checkins</h2>

<p>Get a list of a user&rsquo;s checkins, you can choose to geocode the checkins to get a full address if available, you can specific a device from which you want checkins from and how many checkins you want to receive.</p>
<pre class="highlight shell"><code>curl -X GET <span class="s2">"https://api.coposition.com/users/USER_ID/checkins?access_token=ACCESS_TOKEN"</span>
  -H <span class="s2">"X-Api-Key: YOUR_API_KEY_HERE"</span>
</code></pre>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"request"</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="s1">'GET'</span><span class="p">,</span>
  <span class="na">url</span><span class="p">:</span> <span class="s1">'https://api.coposition.com/users/USER_ID/checkins?access_token=ACCESS_TOKEN'</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span>
   <span class="p">{</span> <span class="s1">'x-api-key'</span><span class="p">:</span> <span class="s1">'YOUR_API_KEY_HERE'</span> <span class="p">},</span>
  <span class="na">json</span><span class="p">:</span> <span class="kc">true</span> <span class="p">};</span>

<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>

</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">18546</span><span class="p">,</span><span class="w">
    </span><span class="nt">"lat"</span><span class="p">:</span><span class="w"> </span><span class="mf">51.513977</span><span class="p">,</span><span class="w">
    </span><span class="nt">"lng"</span><span class="p">:</span><span class="w"> </span><span class="mf">-0.234924</span><span class="p">,</span><span class="w">
    </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-05-12T17:10:55.776Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-05-13T09:23:33.125Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"device_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
    </span><span class="nt">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Community Centre, India Way, White City, London W12 7AQ, UK"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"London"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"postal_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"W12 7AQ"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"country_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GB"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">18544</span><span class="p">,</span><span class="w">
    </span><span class="nt">"lat"</span><span class="p">:</span><span class="w"> </span><span class="mf">51.587736</span><span class="p">,</span><span class="w">
    </span><span class="nt">"lng"</span><span class="p">:</span><span class="w"> </span><span class="mf">-0.302124</span><span class="p">,</span><span class="w">
    </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-05-11T14:36:15.604Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-05-12T14:23:46.519Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"device_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
    </span><span class="nt">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3 Westfield Ln, Harrow, Greater London HA3 9EA, UK"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Harrow"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"postal_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HA3 9EA"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"country_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GB"</span><span class="w">
  </span><span class="p">},</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>

<h3 id="http-request">HTTP Request</h3>

<p>For checkins for a user.</p>

<p><code class="prettyprint">GET https://api.coposition.com/users/USER_ID/checkins?access_token=ACCESS_TOKEN</code></p>

<p>Just the last checkin</p>

<p><code class="prettyprint">GET https://api.coposition.com/users/USER_ID/checkins/last?access_token=ACCESS_TOKEN</code></p>

<h4 id="optional-filters">Optional filters</h4>

<p>You can specify additional filtering in the query string</p>

<table><thead>
<tr>
<th>Option</th>
<th>Query string</th>
</tr>
</thead><tbody>
<tr>
<td>Filter by device</td>
<td><code class="prettyprint">?device_id=DEVICE_ID</code></td>
</tr>
<tr>
<td>Show street address (only when filtering by device)</td>
<td><code class="prettyprint">?type=address</code></td>
</tr>
<tr>
<td>Page and results per page (default 30 max 1000)</td>
<td><code class="prettyprint">?per_page=100&amp;page=2</code></td>
</tr>
<tr>
<td>Filter by date</td>
<td><code class="prettyprint">?date=DD MM YYYY</code></td>
</tr>
<tr>
<td>Find checkins near to coordinates</td>
<td><code class="prettyprint">?near=[LATITUDE LONGITUDE]</code></td>
</tr>
<tr>
<td>Returns only one checkin for each area you have visited</td>
<td><code class="prettyprint">?unique_places=true</code></td>
</tr>
<tr>
<td>Find check-ins created in the last n hours/days/weeks</td>
<td><code class="prettyprint">?time_unit=UNIT&amp;time_amount=AMOUNT e.g. ?time_unit=day&amp;time_amount=10</code></td>
</tr>
</tbody></table>

<h3 id="headers">Headers</h3>

<p><code class="prettyprint">X-Api-Key</code>
<code class="prettyprint">Content-Type</code>
<code class="prettyprint">Cache-Control</code></p>

          <h1 id="devices">Devices</h1>

<h2 id="get-a-list-of-user-39-s-devices">Get a list of user&rsquo;s devices</h2>

<p>Returns a list of devices belonging to the specified user. The user must have approved your App.</p>
<pre class="highlight shell"><code>curl -X GET <span class="s2">"https://api.coposition.com/users/USER_ID/devices?access_token=ACCESS_TOKEN"</span>
  -H <span class="s2">"X-Api-Key: YOUR_API_KEY_HERE"</span>
  -H <span class="s2">"Content-Type: application/json"</span>
  -H <span class="s2">"Cache-Control: no-cache"</span>
</code></pre>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"request"</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span> <span class="na">method</span><span class="p">:</span> <span class="s1">'GET'</span><span class="p">,</span>
  <span class="na">url</span><span class="p">:</span> <span class="s1">'https://api.coposition.com/users/USER_ID/devices?access_token=ACCESS_TOKEN'</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span>
   <span class="p">{</span> <span class="s1">'cache-control'</span><span class="p">:</span> <span class="s1">'no-cache'</span><span class="p">,</span>
     <span class="s1">'content-type'</span><span class="p">:</span> <span class="s1">'application/json'</span><span class="p">,</span>
     <span class="s1">'X-Api-Key'</span><span class="p">:</span> <span class="s1">'YOUR_API_KEY_HERE'</span> <span class="p">},</span>
  <span class="na">json</span><span class="p">:</span> <span class="kc">true</span> <span class="p">};</span>

<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>

</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">54</span><span class="p">,</span><span class="w">
    </span><span class="nt">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"empty"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"alias"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"published"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
    </span><span class="nt">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Computer"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"alias"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"published"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://api.coposition.com/users/USER_ID/devices?access_token=ACCESS_TOKEN</code></p>

<p>For a specific device (will return full device info if developer configures device)</p>

<p><code class="prettyprint">GET https://api.coposition.com/users/USER_ID/devices/DEVICE_ID?access_token=ACCESS_TOKEN</code></p>

<blockquote>
<p>For a specific device:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"uuid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"95515f5a-c89c-476d-9360-f58a12fb3878"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mobile"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"fogged"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"delayed"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"alias"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"published"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"cloaked"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"config"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"developer_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"device_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"custom"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-08-30T10:48:15.911Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-08-30T10:48:15.911Z"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="headers">Headers</h3>

<p><code class="prettyprint">X-Api-Key</code>
<code class="prettyprint">Content-Type</code>
<code class="prettyprint">Cache-Control</code></p>

          <h1 id="configs">Configs</h1>

<p>Configs allow developers to set and control any additional device settings they would like. For example, a developer producing a tracking device may want to be able to control the how often the tracking device checks in. Configs are created when a developer requests a UUID. The device with this UUID will have a config that can be updated by the developer.</p>

<h2 id="getting-a-list-of-configs">Getting a list of configs</h2>

<p>Use this endpoint to see a list of device configs under your control.</p>
<pre class="highlight shell"><code>curl -X GET <span class="s2">"https://api.coposition.com/configs/"</span>
  -H <span class="s2">"X-Api-Key: YOUR_API_KEY_HERE"</span>
</code></pre>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"request"</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span> <span class="na">method</span><span class="p">:</span> <span class="s1">'GET'</span><span class="p">,</span>
  <span class="na">url</span><span class="p">:</span> <span class="s1">'https://api.coposition.com/configs/'</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span>
   <span class="p">{</span> <span class="s1">'x-api-key'</span><span class="p">:</span> <span class="s1">'YOUR_API_KEY_HERE'</span> <span class="p">},</span>
  <span class="na">json</span><span class="p">:</span> <span class="kc">true</span> <span class="p">};</span>

<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>

</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="nt">"developer_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nt">"device_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
    </span><span class="nt">"custom"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-09T11:22:22.109Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-09T11:22:22.109Z"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://api.coposition.com/configs</code></p>

<h3 id="headers">Headers</h3>

<p><code class="prettyprint">X-Api-Key</code></p>

<h2 id="getting-a-specific-config">Getting a specific config</h2>

<p>Use this endpoint to see a specific config</p>
<pre class="highlight shell"><code>curl -X GET <span class="s2">"https://api.coposition.com/configs/CONFIG_ID"</span>
  -H <span class="s2">"X-Api-Key: YOUR_API_KEY_HERE"</span>
</code></pre>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"request"</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span> <span class="na">method</span><span class="p">:</span> <span class="s1">'GET'</span><span class="p">,</span>
  <span class="na">url</span><span class="p">:</span> <span class="s1">'https://api.coposition.com/configs/CONFIG_ID'</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span>
   <span class="p">{</span> <span class="s1">'x-api-key'</span><span class="p">:</span> <span class="s1">'YOUR_API_KEY_HERE'</span> <span class="p">},</span>
  <span class="na">json</span><span class="p">:</span> <span class="kc">true</span> <span class="p">};</span>

<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>

</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
  </span><span class="nt">"developer_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="nt">"device_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
  </span><span class="nt">"custom"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-09T11:22:22.109Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-09T11:22:22.109Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://api.coposition.com/configs/CONFIG_ID</code></p>

<h3 id="headers">Headers</h3>

<p><code class="prettyprint">X-Api-Key</code></p>

<h2 id="updating-a-specific-config">Updating a specific config</h2>

<p>Use this endpoint to update a specific config. Any and as many key/value combinations you want can go within custom, type/mode/frequency are just examples.</p>
<pre class="highlight shell"><code>curl -X PUT <span class="s2">"https://api.coposition.com/configs/CONFIG_ID"</span>
  -H <span class="s2">"X-Api-Key: YOUR_API_KEY_HERE"</span>
  -H <span class="s2">"Content-Type: application/json"</span>
  -d <span class="s1">'{
    "config": {
      "custom": {
        "type": "herds",
        "mode": "accurate",
        "frequency": "1000"
        }
      }
    }'</span>
</code></pre>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"request"</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span> <span class="na">method</span><span class="p">:</span> <span class="s1">'PUT'</span><span class="p">,</span>
  <span class="na">url</span><span class="p">:</span> <span class="s1">'https://api.coposition.com/configs/CONFIG_ID'</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span>
    <span class="p">{</span> <span class="s1">'x-api-key'</span><span class="p">:</span> <span class="s1">'YOUR_API_KEY_HERE'</span>
      <span class="s1">'content-type'</span><span class="p">:</span> <span class="s1">'application/json'</span> <span class="p">},</span>
    <span class="na">body</span><span class="p">:</span> <span class="p">{</span> <span class="na">config</span><span class="p">:</span> <span class="p">{</span> <span class="na">custom</span><span class="p">:</span> <span class="p">{</span> <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"herds"</span><span class="p">,</span> <span class="s2">"mode"</span><span class="p">:</span> <span class="s2">"accurate"</span><span class="p">,</span> <span class="s2">"frequency"</span><span class="p">:</span> <span class="s2">"1000"</span> <span class="p">}</span> <span class="p">}</span> <span class="p">},</span>
    <span class="na">json</span><span class="p">:</span> <span class="kc">true</span> <span class="p">};</span>

<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>

</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
  </span><span class="nt">"developer_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="nt">"device_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">195</span><span class="p">,</span><span class="w">
  </span><span class="nt">"custom"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"herds"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"mode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"accurate"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"frequency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-09T11:22:22.451Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-15T14:22:13.214Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PUT https://api.coposition.com/configs/CONFIG_ID</code></p>

<h3 id="headers">Headers</h3>

<p><code class="prettyprint">X-Api-Key</code>
<code class="prettyprint">Content-Type</code></p>

<h3 id="body">Body</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>config</td>
<td>custom</td>
</tr>
<tr>
<td>custom</td>
<td>{ &lsquo;any key&rsquo;: &#39;any value&rsquo; }</td>
</tr>
</tbody></table>

          <h1 id="developers">Developers</h1>

<h2 id="showing-developer-info">Showing developer info</h2>

<p>Allows you to view developer info such as Company name and ID which can be used in creating/updating an approval or updating permissions for a device.</p>
<pre class="highlight shell"><code>curl -X GET <span class="s2">"https://api.coposition.com/developers/DEVELOPER_ID"</span>
  -H <span class="s2">"X-Api-Key: YOUR_API_KEY_HERE"</span>
  -H <span class="s2">"Content-Type: application/json"</span>
  -H <span class="s2">"Cache-Control: no-cache"</span>
</code></pre>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"request"</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span> <span class="na">method</span><span class="p">:</span> <span class="s1">'GET'</span><span class="p">,</span>
  <span class="na">url</span><span class="p">:</span> <span class="s1">'https://api.coposition.com/developers/DEVELOPER_ID'</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span>
   <span class="p">{</span> <span class="s1">'cache-control'</span><span class="p">:</span> <span class="s1">'no-cache'</span><span class="p">,</span>
     <span class="s1">'content-type'</span><span class="p">:</span> <span class="s1">'application/json'</span><span class="p">,</span>
     <span class="s1">'X-Api-Key'</span><span class="p">:</span> <span class="s1">'YOUR_API_KEY_HERE'</span> <span class="p">},</span>
  <span class="na">json</span><span class="p">:</span> <span class="kc">true</span> <span class="p">};</span>

<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>

</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"orland@kulasrolfson.net"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"company_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Fakebook"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"tagline"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"redirect_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://kaulkerenner.biz/"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://api.coposition.com/developers/DEVELOPER_ID</code></p>

<p>List of all developers</p>

<p><code class="prettyprint">GET https://api.coposition.com/developers</code></p>

<h3 id="headers">Headers</h3>

<p><code class="prettyprint">X-Api-Key</code>
<code class="prettyprint">Content-Type</code>
<code class="prettyprint">Cache-Control</code></p>

          <h1 id="errors">Errors</h1>

<p>The Coposition API uses the following error codes.
<aside class="notice">
  Most errors will return both an error code a short error message giving further details.
</aside></p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request &ndash; Your request is missing required parameters.</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized &ndash; Your API key is wrong, a user has not approved you or you need to sign in.</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden &ndash; You do not have access to the specified resource.</td>
</tr>
<tr>
<td>404</td>
<td>Not Found &ndash; The specified resource or endpoint could not be found.</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error &ndash; We had a problem with our server. Try again later.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">cURL</a>
                <a href="#" data-language-name="javascript">node.js</a>
          </div>
      </div>
    </div>
  </body>
</html>
